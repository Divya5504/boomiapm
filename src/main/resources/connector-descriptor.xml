<?xml version="1.0" encoding="UTF-8"?>
<GenericConnectorDescriptor>
    <description>Boomi Data Security Processor</description>

    <field id="platform" label="APM Platform" type="string">
        <helpText>Tracing Platform</helpText>
        <defaultValue>opentracing</defaultValue>
        <allowedValue label="OpenTracing">
            <value>opentracing</value>
        </allowedValue>
        <allowedValue label="New Relic">
            <value>newrelic</value>
        </allowedValue>
        <allowedValue label="Disabled">
            <value>disabled</value>
        </allowedValue>
    </field>

    <field id="eventPlatform" label="Events Platform" type="string">
        <helpText>Events Platform</helpText>
        <defaultValue>datadog</defaultValue>
        <allowedValue label="Datadog">
            <value>datadog</value>
        </allowedValue>
        <allowedValue label="Disabled">
            <value>disabled</value>
        </allowedValue>
    </field>

    <field id="apiURL" label="API Endpoint" type="string">
        <helpText>API Endpoint in the form of a URL</helpText>
        <defaultValue>https://api.datadoghq.eu/api/v1/events</defaultValue>
    </field>
    <field id="apiKey" label="API Key" type="password">
        <helpText>Platform API Key</helpText>
    </field>
    <field id="appKey" label="App Key" type="password">
        <helpText>Platform APP Key</helpText>
    </field>
    <field id="serviceName" label="Service Name" type="string">
        <helpText>Boomi Service Name for APM</helpText>
        <defaultValue>BoomiMolecule</defaultValue>
    </field>

    <operation types="EXECUTE" inputType="binary" outputType="binary">
        <field type="string" id="action" label="Action">
            <defaultValue>start</defaultValue>
            <allowedValue label="Start Trace">
                <value>start</value>
            </allowedValue>
            <allowedValue label="End Trace">
                <value>stop</value>
            </allowedValue>
            <allowedValue label="Error">
                <value>error</value>
            </allowedValue>
        </field>

        <field type="string" id="realTimeProcessing" label="Realtime Processing">
            <defaultValue>ignore</defaultValue>
            <allowedValue label="Use APM Payload">
                <value>payload</value>
            </allowedValue>
            <allowedValue label="Use Parent ID">
                <value>parentid</value>
            </allowedValue>
            <allowedValue label="Ignore">
                <value>ignore</value>
            </allowedValue>
        </field>

        <field type="boolean" id="sendEvent" label="Send Event">
            <defaultValue>true</defaultValue>
        </field>
    </operation>

    <dynamicProperty type="string" id="keyvalueTags" label="Tags (k=v separated by ;)"/>

    <trackedProperty id="tracePayload" label="Trace Payload"/>
    <trackedProperty id="traceID" label="Trace ID"/>
    <trackedProperty id="parentID" label="Parent ID"/>

</GenericConnectorDescriptor>